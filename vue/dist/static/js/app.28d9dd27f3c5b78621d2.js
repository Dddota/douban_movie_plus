webpackJsonp([1],{"CK/A":function(t,e){},"FG/F":function(t,e){},McPY:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("mtWM"),o=s.n(i),n="https://movie.doubans.com:8082",r="https://movie.douban.com",l="https://movie.doubans.com/neteaseThirdApi",c="https://api.douban.com",d="0b2bdeda43b5688921839c8ecb20399b",u={name:"top",data:function(){return{url_douban:r,keyword:"",now:-1,searchResult:[],oldKeyword:""}},props:{},created:function(){"/subject_search"==this.$route.path&&(this.keyword=this.$route.query.search_text)},methods:{get:function(t,e){var s=this;38!=t.keyCode&&40!=t.keyCode&&(""!=this.keyword?("yes"==e&&(this.keyword=this.$refs.searchInput.value),o.a.get(n+"/searchTips",{params:{keyword:this.keyword}}).then(function(t){200==t.data.code?"success"==t.data.message?s.searchResult=t.data.data:"fail"==t.data.message&&(s.searchResult=[],s.searchResult.push({movieId:"404",rate:"11",name:"请回车进入搜索页面",alias:"PS  智能提示采用本站数据,搜索结果采用豆瓣电影官网数据..."})):(s.searchResult=[],s.searchResult.push({movieId:"403",name:"连接服务器失败...请与管理员联系..."})),s.oldKeyword=s.keyword}).catch(function(t){console.log("search tips fail..."),console.log(t)})):this.searchResult=null)},resetNow:function(){this.now=-1},selectDown:function(){this.now++,this.now==this.searchResult.length&&(this.now=0),this.searchResult&&(this.searchResult[this.now]&&"404"==this.searchResult[this.now].movieId||1==this.searchResult.length&&"11"==this.searchResult[0].rate)&&(this.now=0)},selectUp:function(){-1!=this.now&&(0==this.now?(this.now--,this.keyword=this.oldKeyword):this.searchResult&&this.now--)},search:function(){""!=this.keyword&&(-1==this.now?"/subject_search"==this.$route.path?window.location.href="/subject_search?search_text="+this.keyword:window.open("/subject_search?search_text="+this.keyword):this.searchResult&&(this.searchResult[this.now]&&"404"==this.searchResult[this.now].movieId||1==this.searchResult.length&&"11"==this.searchResult[0].rate?"/subject_search"==this.$route.path?window.location.href="/subject_search?search_text="+this.keyword:window.open("/subject_search?search_text="+this.keyword):window.open("/subject/"+this.searchResult[this.now].movieId)))},selectHover:function(t){this.now=t},selectClick:function(t){this.searchResult[this.now]&&"404"==this.searchResult[this.now].movieId||1==this.searchResult.length&&"11"==this.searchResult[0].rate?"/subject_search"==this.$route.path?window.location.href="/subject_search?search_text="+this.keyword:window.open("/subject_search?search_text="+this.keyword):window.open("/subject/"+this.searchResult[t].movieId)},clearInput:function(){var t=this;setTimeout(function(e){t.keyword=t.oldKeyword,t.searchResult=null},300)}},mounted:function(){},filters:{}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"top"}},[s("div",{staticClass:"nav",attrs:{id:"db-nav-movie"}},[s("div",{staticClass:"nav-wrap"},[s("div",{staticClass:"nav-primary"},[t._m(0),t._v(" "),s("div",{staticClass:"nav-search"},[s("div",{staticClass:"inp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],ref:"searchInput",attrs:{id:"inp-query",size:"22",maxlength:"60",placeholder:"搜索电影、影人",autocomplete:"off",type:"text"},domProps:{value:t.keyword},on:{click:function(e){return t.resetNow()},blur:function(e){return t.clearInput()},focus:function(e){return t.get(e,"yes")},keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInput()},function(e){return t.get(e,"no")}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.selectDown()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.selectUp())}],input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),s("span")]),t._v(" "),s("div",{staticClass:"inp-btn"},[s("input",{on:{click:function(e){return t.search()}}})]),t._v(" "),s("div",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInput(e)}}}),t._v(" "),s("div",{staticClass:"search-select",staticStyle:{position:"fixed",top:"65px",left:"275px",width:"465px"},attrs:{id:"search_suggest"}},[s("transition-group",{attrs:{name:"itemfade",tag:"ul",mode:"out-in","modal-append-to-body":!1}},t._l(t.searchResult,function(e,a){return""!=e.name?s("li",{key:e.movieId,staticClass:"search-select-option search-select-list",class:{selectback:a==t.now},staticStyle:{"background-color":"#b0eae7","border-top":"1px solid","border-color":"#c7cbff",height:"auto"},on:{mouseover:function(e){return t.selectHover(a)},mouseout:function(e){return t.resetNow()},click:function(e){return t.selectClick(a)}}},[s("span",[s("strong",[t._v(t._s(e.name))])]),t._v(" "),s("span",{staticStyle:{color:"#f7097a"}},[s("i",[t._v("   "+t._s("11"==e.rate?"--\x3e":e.rate))])]),s("br"),t._v(" "),s("span",{staticStyle:{"font-size":"11px",color:"#787878"}},[t._v("\n                  "+t._s(e.alias)+"\n                ")])]):t._e()}),0)],1)])])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-logo"},[e("a",{attrs:{href:"/"}},[this._v("豆瓣电影Plus")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-secondary"},[e("div",{staticClass:"nav-items"},[e("ul",[e("li",[e("a",{attrs:{href:"/people",target:"_blank"}},[this._v("个人中心")])]),this._v(" "),e("li",[e("a",{attrs:{href:"/chart",target:"_blank"}},[this._v("排行榜")])]),this._v(" "),e("li",[e("a",{attrs:{href:"/tag",target:"_blank"}},[this._v("分类")])]),this._v(" "),e("li",[e("a",{attrs:{href:"/subject/1889243",target:"_blank"}},[this._v("星际穿越")])])])])])}]};var m={name:"App",components:{headernav:s("VU/8")(u,v,!1,function(t){s("XxT3")},null,null).exports},data:function(){return{}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("headernav"),this._v(" "),e("div",{attrs:{id:"github"}},[e("a",{staticClass:"github-corner",attrs:{href:"https://github.com/humingk/douban_movie",target:"_blank","aria-label":"View source on Github"}},[e("svg",{attrs:{viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),this._v(" "),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px","--darkreader-inline-fill":"currentColor"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor","data-darkreader-inline-fill":""}}),this._v(" "),e("path",{staticClass:"octo-body",staticStyle:{"--darkreader-inline-fill":"currentColor"},attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor","data-darkreader-inline-fill":""}})])])]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var g=s("VU/8")(m,_,!1,function(t){s("ZbD6")},null,null).exports,h=s("/ocq"),p={name:"home",data:function(){return{url_douban:r,top250:{},weekly:{},new:{},usBox:{},inTheaters:{count:"",start:"",subjects:[],title:"",total:""}}},created:function(){this.getInTheaters(0,14),this.getTop250(0,14),this.getWeekly(),this.getNew(),this.getUsBox()},methods:{getInTheaters:function(t,e){var s=this;this.$jsonp(c+"/v2/movie/in_theaters?start="+t+"&count="+e+"&apikey="+d).then(function(t){t.total&&0!=t.total?(console.log("douban theaters: "),console.log(t),s.inTheaters=t):console.log("get in theaters failed...count 0...(server error)")}).catch(function(t){console.log("get in theaters failed..."),console.log(t)})},getTop250:function(t,e){var s=this;this.$jsonp(c+"/v2/movie/top250?start="+t+"&count="+e).then(function(t){t.count&&0!=t.count?(console.log("douban top250: "),console.log(t),s.top250=t):console.log("get top250 failed...count 0...(server error)")}).catch(function(t){console.log("get top250 failed..."),console.log(t)})},getWeekly:function(){var t=this;this.$jsonp(c+"/v2/movie/weekly?apikey="+d).then(function(e){e.subjects&&0!=e.subjects.length?(console.log("douban weekly: "),console.log(e),t.weekly=e):console.log("get weekly failed...count 0...(server error)")}).catch(function(t){console.log("get weekly failed..."),console.log(t)})},getNew:function(){var t=this;this.$jsonp(c+"/v2/movie/new_movies?apikey="+d).then(function(e){e.subjects&&0!=e.subjects.length?(console.log("douban new movies: "),console.log(e),t.new=e):console.log("get new movies failed...count 0...(server error)")}).catch(function(t){console.log("get new movies failed..."),console.log(t)})},getUsBox:function(){var t=this;this.$jsonp(c+"/v2/movie/us_box").then(function(e){e.subjects&&0!=e.subjects.length?(console.log("douban us box: "),console.log(e),t.usBox=e):console.log("get us box failed...count 0...(server error)")}).catch(function(t){console.log("get us box failed..."),console.log(t)})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return""!=t.inTheaters.title?s("div",{attrs:{id:"home"}},[s("div",{attrs:{id:"wrapper"}},[s("div",{attrs:{id:"content"}},[s("div",{attrs:{id:"grid-16-8 clearfix"}},[s("div",{staticClass:"s",attrs:{id:"screening","data-dstat-areaid":"70","data-dstat-mode":"click,expose"}},[s("div",{staticClass:"screening-hd"},[s("h2",[t._v("正在热映\n              "),s("span",[s("a",{attrs:{href:t.url_douban+"/cinema/nowplaying"}},[t._v("全部正在热映>>")])]),t._v(" "),s("span",[s("a",{attrs:{href:t.url_douban+"/cinema/later"}},[t._v("即将上映>>")])])])]),t._v(" "),t.inTheaters.subjects?s("div",{staticClass:"screening-bd"},[s("div",{staticClass:"list-wp",attrs:{"data-v-3e982be2":""}},t._l(t.inTheaters.subjects,function(e){return s("a",{staticClass:"item",attrs:{"data-v-2c455d87":"","data-v-3e982be2":"",target:"_blank",href:"/subject/"+e.id}},[s("div",{staticClass:"cover-wp",attrs:{"data-v-2c455d87":"","data-id":"26728669"}},[s("span",{staticClass:"pic",attrs:{"data-v-2c455d87":""}},[s("img",{attrs:{"data-v-2c455d87":"",src:e.images.large,rel:"noreferrer",alt:e.title,x:"movie:cover_x",y:"1920"}})])]),t._v(" "),s("p",{attrs:{"data-v-2c455d87":""}},[s("span",{attrs:{"data-v-2c455d87":""}},[s("strong",[t._v(t._s(e.title))])]),t._v(" "),s("span",{staticClass:"rate",attrs:{"data-v-2c455d87":""}},[t._v(t._s(e.rating.average))])])])}),0)]):t._e()])])])])]):t._e()},staticRenderFns:[]};var f=s("VU/8")(p,b,!1,function(t){s("McPY")},null,null).exports,y=s("Ixwk"),C=s.n(y);C.a.disableVersionBadge=!0;var k={name:"subject",data:function(){return{url_imdb:"https://www.imdb.com",url_douban:r,url_douban_book:"https://book.douban.com",url_netease:"https://music.163.com",url_metacritic:"https://www.metacritic.com",url_tomato:"https://www.rottentomatoes.com",url_btbtdy:"http://www.btbtdy.me",url_loldytt:"http://www.loldytt.tv",url_email:"humingk@qq.com",numOfSongs:2,numOfAlbums:2,numOfPlaylists:2,numOfBooks:3,brandOrFold:!0,subTitle:" +1s",bookSearch:{},bookComments:{},bookReviews:{},neteaseSearch:{},flagForNetease:!1,musicOk:0,isMusicAllOk:!1,neteaseMusic:[],neteaseSearchKeyword:"",showLrc:!0,neteasePlaylistSongs:[],neteasePlaylistSongsId:"",neteasePlaylistSongsName:"",numOfPlaylistSongs:10,neteaseAlbumSongs:[],neteaseAlbumSongsId:"",neteaseAlbumSongsName:"",numOfAlbumSongs:10,neteaseSongs:[],neteaseAlbums:[],neteasePlaylists:[],btbtdyResource:[],loldyttResource:[],flagForImdb:!1,imdbApi:{imdbId:"",Ratings:[]},movieApi:{},movieBase:{movieId:"",name:"",rate:"",alias:"",imdbId:"",directors:[],writers:[],leadingactors:[],types:[],tags:[],releasetimes:[]}}},components:{Aplayer:C.a},props:{},created:function(){this.getMovieApi(this.$route.params.movieId)},methods:{getMovieApi:function(t){var e=this;this.$jsonp(c+"/v2/movie/subject/"+t+"?apikey="+d).then(function(s){s.id?(console.log("movie douban API :"),console.log(s),e.movieApi=s,e.getMovieBase(t,s)):(e.getMovieBase(t,null),console.log("get movie api fail....(server error)"))}).catch(function(t){console.log("during get movie douban api fail..."),console.log(t)})},getMovieBase:function(t,e){var s=this;o.a.get(n+"/subject/"+t).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message?(console.log("movie base :"),console.log(t),s.movieBase=t.data.data,document.title=t.data.data.name+s.subTitle,s.updateRate(e.id,e.rating.average)):"fail"==t.data.message&&(console.log("get moviebase failed...(server error)"),e&&(console.log("there is no movie base..."),s.updateMovieBase(e),document.title=e.title+s.subTitle)):console.log("get moviebase failed...(connect error)"),s.movieBase.name?(s.getBtbtdyResource(s.movieBase.name),s.getLoldyttResource(s.movieBase.name)):e.title?(s.getBtbtdyResource(e.title),s.getLoldyttResource(e.title)):console.log("there is no name to get movie resource...");var a=[];if(a.push(e.original_title?e.original_title:""),e.aka&&0!=e.aka.length)for(var i=0;i<e.aka.length;i++)s.isEnglishForKeyword(e.aka[i])&&a.push(e.aka[i]);s.movieBase.imdbId&&""!=s.movieBase.imdbId?s.getImdbById(s.movieBase.imdbId):s.getImdbByKeyword(a,e.year?e.year:null,0);var o=[];if(o.push(s.fixSearchKeyword(s.movieBase.name)),o.push(e.original_title?e.original_title:null),e.aka&&0!=e.aka.length)for(var n=0;n<e.aka.length;n++)o.push(e.aka[n]);s.getNetease(o,0),s.getBookSearch(s.movieBase.name,0,s.numOfBooks)}).catch(function(t){console.log("during get movie base failed...(client fail)"),console.log(t)})},updateMovieBase:function(t){var e=this;this.copyBase(t),o.a.post(n+"/subject/addMovieAll",this.movieBase).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message?(console.log("update movie base success..."),console.log(e.movieBase)):"fail"==t.data.message&&console.log("update movie base fail...(server fail)"):console.log("update movie base fail...(connect fail)")}).catch(function(t){console.log("update movie base fail...(client fail)"),console.log(t)})},copyBase:function(t){if(this.movieBase.movieId=t.id,this.movieBase.name=t.title,t.rating&&(this.movieBase.rate=t.rating.average),t.aka&&""!=t.aka&&(this.movieBase.alias=t.aka.toString().replace(/,/g,"/")),t.directors)for(var e=0;e<t.directors.length;e++)this.movieBase.directors.push({actorId:t.directors[e].id,name:t.directors[e].name});if(t.writers)for(var s=0;s<t.writers.length;s++)this.movieBase.writers.push({actorId:t.writers[s].id,name:t.writers[s].name});if(t.casts)for(var a=0;a<t.casts.length;a++)this.movieBase.leadingactors.push({actorId:t.casts[a].id,name:t.casts[a].name});if(t.pubdates)for(var i=0;i<t.pubdates.length;i++)this.movieBase.releasetimes.push({timeArea:t.pubdates[i]});if(t.genres)for(var o=0;o<t.genres.length;o++)this.movieBase.types.push({typeName:t.genres[o]});if(t.tags)for(var n=0;n<t.tags.length;n++)this.movieBase.tags.push({tagName:t.tags[n]})},updateRate:function(t,e){o.a.get(n+"/subject/updateRate",{params:{movieId:t,rate:e}}).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message?console.log("update movie rate success..."):"fail"==t.data.message&&console.log("update movie rate fail...(service error)"):console.log("update movie rate fail...(connect error)")}).catch(function(t){console.log("update movie rate fail..."),console.log(t)})},getBookSearch:function(t,e,s){var a=this;t=this.fixSearchKeyword(t),console.log("douban book search keyword: "+t+" (success)"),this.$jsonp(c+"/v2/book/search?q="+t+"&start="+e+"&count="+s+"&apikey="+d).then(function(e){e.count&&0!=e.count?(console.log("douban book search:"),console.log(e),a.bookSearch=e,a.getBookComments(a.bookSearch.books[0].id,a.bookSearch.books[0].title,0,5),a.getBookReviews(a.bookSearch.books[0].id,a.bookSearch.books[0].title,0,5)):console.log("douban book search keyword: "+t+" (fail)")}).catch(function(t){console.log("get douban book search fail..."),console.log(t)})},getBookComments:function(t,e,s,a){var i=this;this.$jsonp(c+"/v2/book/"+t+"/comments?start="+s+"&count="+a+"&apikey="+d).then(function(s){s.count&&0!=s.count?(console.log("douban book comments:"),console.log(s),i.bookComments=s,i.bookComments.bookId=t,i.bookComments.bookName=e):console.log("get douban book comments fail...(server error)")}).catch(function(t){console.log("get douban book comments fail..."),console.log(t)})},getBookReviews:function(t,e,s,a){var i=this;this.$jsonp(c+"/v2/book/"+t+"/reviews?start="+s+"&count="+a+"&apikey="+d).then(function(s){s.count&&0!=s.count?(console.log("douban book reviews:"),console.log(s),i.bookReviews=s,i.bookReviews.bookId=t,i.bookReviews.bookName=e):console.log("get douban book reviews fail...(server error)")}).catch(function(t){console.log("get douban book reviews fail..."),console.log(t)})},getNetease:function(t,e){var s=this;e<t.length&&!this.flagForNetease&&o.a.get(l+"/search/suggest?keywords="+t[e]).then(function(a){if(a.data)if(s.neteaseSearch=a.data,a.data.result&&a.data.result.order&&0!=a.data.result.order.length){if(s.flagForNetease=!0,s.neteaseSearchKeyword=t[e],console.log("netease movie search:"),console.log(a),console.log("netease search keywords: "+t[e]+"(success)"),a.data.result.songs){var i=a.data.result.songs;s.musicOk+=i.length;for(var o=0;o<i.length;o++)o<s.numOfSongs&&s.getNeteaseSongs(i[o].id,i[o].name),s.getNeteaseSongPic(i[o].id,i[o].name,i[o].artists?i[o].artists[0].name:null,0);console.log("netease songs comments:"),console.log(s.neteaseSongs)}if(a.data.result.albums){var n=a.data.result.albums;n.length&&0!=n.length&&(s.neteaseAlbumSongsId=n[0].id,s.neteaseAlbumSongsName=n[0].name,s.getNeteaseAlbumSongs(n[0].id));for(var r=0;r<n.length&&r<s.numOfAlbums;r++)s.getNeteaseAlbums(n[r].id,n[r].name);console.log("netease albums comments:"),console.log(s.neteaseAlbums)}if(a.data.result.playlists){var l=a.data.result.playlists;l.length&&0!=l.length&&(s.neteasePlaylistSongsId=l[0].id,s.neteasePlaylistSongsName=l[0].name,s.getNeteasePlaylistSongs(l[0].id));for(var c=0;c<l.length&&c<s.numOfPlaylists;c++)s.getNeteasePlaylists(l[c].id,l[c].name);console.log("netease playlist comments:"),console.log(s.neteasePlaylists)}}else console.log("netease search keywords: "+t[e]+"(fail)"),s.getNetease(t,++e);else console.log("during get netease search failed...(server error)")}).catch(function(t){console.log("during get netease search failed..."),console.log(t)})},getNeteaseSongPic:function(t,e,s,a){var i=this;o.a.get(l+"/song/detail?ids="+t).then(function(o){o.data?i.getNeteaseMusic(t,e,s,a,o.data.songs&&0!=o.data.songs.length&&o.data.songs[0].al&&o.data.songs[0].al.picUrl?o.data.songs[0].al.picUrl:null):console.log("get netease music pic "+t+" failed...(server error)")}).catch(function(e){console.log("get netease music-"+t+" 's music pic failed:"),console.log(e)})},getNeteasePlaylistSongs:function(t){var e=this;o.a.get(l+"/playlist/detail?id="+t).then(function(s){if(console.log("the first playlist songs: "),console.log(s),s.data&&s.data.playlist&&s.data.playlist.tracks){e.musicOk+=Math.min(s.data.playlist.tracks.length,e.numOfPlaylistSongs);for(var a=0;a<s.data.playlist.tracks.length&&a<e.numOfPlaylistSongs;a++)e.getNeteaseMusic(s.data.playlist.tracks[a].id,s.data.playlist.tracks[a].name?s.data.playlist.tracks[a].name:"Untitled",s.data.playlist.tracks[a].ar?s.data.playlist.tracks[a].ar[0].name:"Unknown",1,s.data.playlist.tracks[a].al&&s.data.playlist.tracks[a].al.picUrl?s.data.playlist.tracks[a].al.picUrl:null)}else console.log("get netease playlist "+t+" failed...(server error)")}).catch(function(e){console.log("get netease playlist-"+t+" 's songs failed:"),console.log(e)})},getNeteaseAlbumSongs:function(t){var e=this;o.a.get(l+"/album?id="+t).then(function(s){if(console.log("the first album songs: "),console.log(s),s.data&&s.data.songs&&0!=s.data.songs.length){e.musicOk+=Math.min(s.data.songs.length,e.numOfAlbumSongs);for(var a=0;a<s.data.songs.length&&a<e.numOfAlbumSongs;a++)e.getNeteaseMusic(s.data.songs[a].id,s.data.songs[a].name?s.data.songs[a].name:"Untitled",s.data.songs[a].ar?s.data.songs[a].ar[0].name:"Unknown",2,s.data.songs[a].al&&s.data.songs[a].al.picUrl?s.data.songs[a].al.picUrl:null)}else console.log("get netease album "+t+" failed...(server error)")}).catch(function(e){console.log("get netease album-"+t+" 's songs failed:"),console.log(e)})},getNeteaseMusic:function(t,e,s,a,i){var n=this;o.a.get(l+"/lyric?id="+t).then(function(o){o.data?((0==a?n.neteaseMusic:1==a?n.neteasePlaylistSongs:n.neteaseAlbumSongs).push({title:e,artist:s,src:"https://music.163.com/song/media/outer/url?id="+t+".mp3",lrc:o.data.lrc&&o.data.lrc.lyric?o.data.lrc.lyric:"",pic:i||""}),n.musicOk--,0==n.musicOk&&(n.isMusicAllOk=!0)):console.log("get netease music lyric "+t+" failed...(server error)")}).catch(function(e){console.log("get netease music-"+t+" 's music lyric failed:"),console.log(e)})},getNeteaseSongs:function(t,e){var s=this;o.a.get(l+"/comment/music?id="+t).then(function(a){a.data?s.neteaseSongs.push({id:t,name:e,data:a.data}):console.log("get netease song "+t+" failed...(server error)")}).catch(function(e){console.log("get netease song-"+t+" 's comments failed:"),console.log(e)})},getNeteaseAlbums:function(t,e){var s=this;o.a.get(l+"/comment/album?id="+t).then(function(a){a.data?s.neteaseAlbums.push({id:t,name:e,data:a.data}):console.log("get netease album "+t+" failed...(server error)")}).catch(function(e){console.log("get netease album-"+t+" 's comments failed:"),console.log(e)})},getNeteasePlaylists:function(t,e){var s=this;o.a.get(l+"/comment/playlist?id="+t).then(function(a){a.data?s.neteasePlaylists.push({id:t,name:e,data:a.data}):console.log("get netease playlist "+t+" failed...(server error)")}).catch(function(e){console.log("get netease playlist-"+t+" 's comments failed:"),console.log(e)})},getImdbById:function(t){var e=this;o.a.get("http://www.omdbapi.com/",{params:{apikey:"e409ce71",plot:"full",i:t}}).then(function(t){t.data&&t.data.Title?(e.imdbApi=t.data,console.log("imdb Api by imdbId :"),console.log(t.data)):console.log("get imdb api by imdbId fail...(server fail)")}).catch(function(t){console.log("get imdb api by imdbId fail..."),console.log(t)})},getImdbByKeyword:function(t,e,s){var a=this;!this.flagForImdb&&s<t.length&&o.a.get("http://www.omdbapi.com/",{params:{apikey:"e409ce71",plot:"full",t:t[s],y:e}}).then(function(i){i.data&&i.data.imdbID?(a.flagForImdb=!0,console.log("imdbApi search keyword: "+t[s]+" (success)"),a.imdbApi=i.data,console.log("imdb Api by title :"),console.log(i.data),a.updateImdbId(a.$route.params.movieId,i.data.imdbID?i.data.imdbID:null)):(console.log("imdbApi search keyword: "+t[s]+" (fail)"),a.getImdbByKeyword(t,e,++s))}).catch(function(t){console.log("get imdb api by title fail..."),console.log(t)})},updateImdbId:function(t,e){e&&o.a.get(n+"/subject/updateImdbId",{params:{movieId:t,imdbId:e}}).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message?console.log("update movie imdbId success..."):"fail"==t.data.message&&console.log("update movie imdbId fail...(service error)"):console.log("update movie imdbId fail...(connect error)")}).catch(function(t){console.log("update movie imdbId fail..."),console.log(t)})},getBtbtdyResource:function(t){var e=this;o.a.get(n+"/subject/getBtbtdyResource",{params:{keyword:t}}).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message?(console.log("movie btbtdy resource:"),console.log(t.data),e.btbtdyResource=t.data.data):"fail"==t.data.message&&console.log("get movie btbtdy resource fail...(service error)"):console.log("get movie btbtdy resource fail...(connect error)")}).catch(function(t){console.log("get movie btbtdy resource fail..."),console.log(t)})},getLoldyttResource:function(t){var e=this;o.a.get(n+"/subject/getLoldyttResource",{params:{keyword:t}}).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message?(console.log("movie resource:"),console.log(t.data),e.loldyttResource=t.data.data):"fail"==t.data.message&&console.log("get movie loldytt resource fail...(service error)"):console.log("get movie loldytt resource fail...(connect error)")}).catch(function(t){console.log("get movie loldytt resource fail..."),console.log(t)})},moreActor:function(){this.brandOrFold?this.brandOrFold=!1:this.brandOrFold=!0},getMetacriticName:function(t){return t.toString().replace(/ |: /g,"-").toLowerCase()},getTomatoName:function(t){return t.toString().replace(/ |: /g,"_").toLowerCase()},getRateType:function(t){switch(parseInt(t)){case 1:return"allstar10";case 2:return"allstar20";case 3:return"allstar30";case 4:return"allstar40";case 5:return"allstar50";default:return""}},getBigRateType:function(t){return t<=10&&t>9?"bigstar45":t<=9&&t>8?"bigstar40":t<=8&&t>7?"bigstar35":t<=7&&t>6?"bigstar30":t<=6&&t>5?"bigstar25":t<=5&&t>4?"bigstar20":t<=4&&t>3?"bigstar15":t<=3&&t>2?"bigstar10":"bigstar5"},getBigRateTypeForTomatoes:function(t){var e=parseFloat(t.toString().replace(/%/g,""))/10;return e<=10&&e>9?"bigTomato45":e<=9&&e>8?"bigTomato40":e<=8&&e>7?"bigTomato35":e<=7&&e>6?"bigTomato30":e<=6&&e>5?"bigTomato25":e<=5&&e>4?"bigTomato20":e<=4&&e>3?"bigTomato15":e<=3&&e>2?"bigTomato10":"bigTomato5"},getBigRateTypeForImdb:function(t){return t<=10&&t>9?"bigImdbStar45":t<=9&&t>8?"bigImdbStar40":t<=8&&t>7?"bigImdbStar35":t<=7&&t>6?"bigImdbStar30":t<=6&&t>5?"bigImdbStar25":t<=5&&t>4?"bigImdbStar20":t<=4&&t>3?"bigImdbStar15":t<=3&&t>2?"bigImdbStar10":"bigImdbStar5"},getBigRateTypeForMetacritic:function(t){var e=parseFloat(t.toString().replace(/\/100/g,""))/10;return e<=10&&e>9?"bigMetacriticStar45":e<=9&&e>8?"bigMetacriticStar40":e<=8&&e>7?"bigMetacriticStar35":e<=7&&e>6?"bigMetacriticStar30":e<=6&&e>5?"bigMetacriticStar25":e<=5&&e>4?"bigMetacriticStar20":e<=4&&e>3?"bigMetacriticStar15":e<=3&&e>2?"bigMetacriticStar10":"bigMetacriticStar5"},fixSearchKeyword:function(t){return t.toString().split(/[：|:|\s]/)[0]},getRandomMusic:function(t){return parseInt(Math.random()*t)},isEnglishForKeyword:function(t){var e=t.toString().charAt(0);return e>="A"&&e<="Z"||e>="a"&&e<="z"}},filters:{isEnglish:function(t){var e=t.toString().charAt(0);return e>="A"&&e<="Z"||e>="a"&&e<="z"?t.toString():""},formatDate:function(t){if(!t)return"";var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()},thousands:function(t){return t.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},fixPercent:function(t){return parseFloat(t.toString().replace(/%/g,""))/10},fixSlish:function(t){return parseFloat(t.toString().replace(/\/100/g,""))/10}},mounted:function(){}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.movieBase.movieId?s("div",{attrs:{id:"subject"}},[s("div",{attrs:{id:"wrapper"}},[s("div",{attrs:{id:"content"}},[s("h1",[s("span",[t._v(t._s(t.movieBase.name))]),t._v(" "),t.movieApi.original_title?s("span",[t._v(" "+t._s(t._f("isEnglish")(t.movieApi.original_title)))]):t._e(),t._v(" "),t.movieApi.year?s("span",{staticClass:"year"},[t._v("("+t._s(t.movieApi.year)+")")]):t._e(),t._v(" "),t.movieApi.id?t._e():s("span",{staticStyle:{"font-size":"16px"}},[t._v("(资料不全,查看更多请"),s("a",{attrs:{href:t.url_douban+"/subject/"+t.movieBase.movieId,target:"_blank"}},[t._v("点击此处")]),t._v("去豆瓣电影)")])]),t._v(" "),s("div",{staticClass:"grid-16-8 clearfix"},[s("div",{staticClass:"article"},[s("div",{staticClass:"indent clearfix"},[s("div",{staticClass:"subjectwrap clearfix"},[s("div",{staticClass:"subject clearfix"},[t.movieApi.images?s("div",{attrs:{id:"mainpic"}},[t.movieApi.images?s("a",{staticClass:"nbgnbg",attrs:{href:t.movieApi.images.large}},[s("img",{attrs:{src:t.movieApi.images.large,rel:"noreferrer"}})]):t._e(),t._v(" "),s("p",{staticClass:"gact"})]):t._e(),t._v(" "),s("div",{staticClass:"info"},[t.movieBase.directors.length?s("span",{staticClass:"pl"},[t._v("导演: ")]):t._e(),t._v(" "),t._l(t.movieBase.directors,function(e,a){return s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:"/celebrity/"+e.actorId}},[t._v(t._s(e.name))]),t._v(t._s(a===t.movieBase.directors.length-1?"":" / "))])}),s("br"),t._v(" "),t.movieBase.writers.length?s("span",{staticClass:"pl"},[t._v("编剧: ")]):t._e(),t._v(" "),t._l(t.movieBase.writers,function(e,a){return s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:"/celebrity/"+e.actorId}},[t._v(t._s(e.name))]),t._v(t._s(a===t.movieBase.writers.length-1?"":" / "))])}),s("br"),t._v(" "),s("span",{attrs:{id:"actorInfo"}},[s("div",{staticStyle:{width:"34px",float:"left"}},[t.movieBase.leadingactors.length?s("span",{staticClass:"pl"},[t._v("演员: ")]):t._e()]),t._v(" "),s("div",{staticStyle:{overflow:"hidden"}},[t._l(t.movieBase.leadingactors,function(e,a){return a<10?s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:"/celebrity/"+e.actorId}},[t._v(t._s(e.name))]),t._v("\n                    "+t._s(a===t.movieBase.leadingactors.length-1?"":" / ")+"\n                  ")]):t._e()}),t._v(" "),t._l(t.movieBase.leadingactors,function(e,a){return a>=10&&!t.brandOrFold?s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:"/celebrity/"+e.actorId}},[t._v(t._s(e.name))]),t._v("\n                    "+t._s(a===t.movieBase.leadingactors.length-1?"":" / ")+"\n                  ")]):t._e()}),t._v(" "),t.movieBase.leadingactors.length>10?s("span",{staticStyle:{color:"#8c169b","font-size":"11px"},on:{click:function(e){return t.moreActor()}}},[s("i",{staticStyle:{"font-size":"13px"}},[t._v(t._s(t.brandOrFold?"...(展开)":"(收起)"))])]):t._e(),t._v(" "),s("br")],2)]),t._v(" "),t.movieBase.types.length?s("span",{staticClass:"pl"},[t._v("类型: ")]):t._e(),t._v(" "),t._l(t.movieBase.types,function(e,a){return s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:"/tag/"+e.typeName}},[t._v(t._s(e.typeName))]),t._v(t._s(a===t.movieBase.types.length-1?"":" / "))])}),s("br"),t._v(" "),s("span",{staticClass:"tagsInfo"},[s("div",{staticStyle:{width:"34px",float:"left"}},[t.movieBase.tags.length?s("span",{staticClass:"pl"},[t._v("标签: ")]):t._e()]),t._v(" "),s("div",{staticStyle:{overflow:"hidden"}},[t._l(t.movieBase.tags,function(e,a){return s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:"/tag/"+e.tagName}},[t._v(t._s(e.tagName))]),t._v(t._s(a===t.movieBase.tags.length-1?"":" / "))])}),s("br")],2)]),t._v(" "),t.imdbApi&&t.imdbApi.Runtime?s("span",[s("span",{staticClass:"pl"},[t._v("时长: ")]),t._v(" "),s("span",{staticClass:"attrs"},[t._v(t._s(t.imdbApi.Runtime))]),s("br")]):t._e(),t._v(" "),t.imdbApi&&t.imdbApi.Country?s("span",[s("span",{staticClass:"pl"},[t._v("地区: ")]),t._v(" "),s("span",{staticClass:"attrs"},[t._v(t._s(t.imdbApi.Country))]),s("br")]):t._e(),t._v(" "),t.movieBase.types.length?s("span",{staticClass:"pl"},[t._v("上映时间: ")]):t._e(),t._v(" "),t._l(t.movieBase.releasetimes,function(e,a){return s("span",{staticClass:"attrs"},[t._v(t._s(e.timeArea)+t._s(a===t.movieBase.releasetimes.length-1?"":" / "))])}),s("br"),t._v(" "),t.movieBase.movieId?s("span",{staticClass:"pl"},[t._v("豆瓣电影: ")]):t._e(),t._v(" "),s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:t.url_douban+"/subject/"+t.movieBase.movieId}},[t._v(t._s(t.movieBase.movieId))])]),s("br"),t._v(" "),t.movieBase.imdbId||t.imdbApi.imdbID?s("span",[s("span",{staticClass:"pl"},[t._v("IMDB: ")]),t._v(" "),t.movieBase.imdbId?s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:t.url_imdb+"/title/"+t.movieBase.imdbId}},[t._v(t._s(t.movieBase.imdbId))])]):t._e(),t._v(" "),!t.movieBase.imdbId&&t.imdbApi.imdbID?s("span",{staticClass:"attrs"},[s("a",{attrs:{target:"_blank",href:t.url_imdb+"/title/"+t.imdbApi.imdbID}},[t._v(t._s(t.imdbApi.imdbID))])]):t._e()]):t._e()],2)]),t._v(" "),s("div",{attrs:{id:"interest_sectl"}},[s("div",{staticClass:"rating_wrap clearbox"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"rating_logo ll"},[s("a",{attrs:{href:t.url_douban,target:"_blank"}},[t._v("\n                        豆瓣电影\n                      ")])]),t._v(" "),s("div",{staticClass:"output-btn-wrap rr"})]),t._v(" "),s("div",{staticClass:"rating_self clearfix"},[s("strong",{staticClass:"ll rating_num"},[t._v(t._s(0==t.movieBase.rate?"囧":t.movieBase.rate))]),t._v(" "),s("span",{attrs:{content:"10.0"}}),t._v(" "),s("div",{staticClass:"rating_right "},[s("div",{class:"ll bigstar "+t.getBigRateType(t.movieBase.rate)}),t._v(" "),s("div",{staticClass:"rating_sum"},[s("div",{staticClass:"rating_people"},[s("span",[t.movieApi.id?s("a",{attrs:{href:t.url_douban+"/subject/"+t.movieBase.movieId+"/collections",target:"_blank"}},[t._v("\n                          "+t._s(0==t.movieApi.rating.average?"仅":"")+t._s(t._f("thousands")(t.movieApi.ratings_count))+"人评价\n                          ")]):t._e()])])])])])]),t._v(" "),t.imdbApi.imdbID?s("div",{staticClass:"rating_wrap clearbox"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"rating_logo ll"},[s("a",{attrs:{href:t.url_imdb,target:"_blank"}},[t._v("\n                        IMDB\n                      ")])]),t._v(" "),s("div",{staticClass:"output-btn-wrap rr"})]),t._v(" "),s("div",{staticClass:"rating_self clearfix"},[s("strong",{staticClass:"ll rating_num"},[t._v(t._s("N/A"==t.imdbApi.imdbRating?"囧":t.imdbApi.imdbRating))]),t._v(" "),s("span",{attrs:{content:"10.0"}}),t._v(" "),s("div",{staticClass:"rating_right "},[s("div",{class:"ll bigstar "+t.getBigRateTypeForImdb(t.imdbApi.imdbRating)}),t._v(" "),s("div",{staticClass:"rating_sum"},[s("div",{staticClass:"rating_people"},[s("span",[s("a",{attrs:{target:"_blank",href:t.url_imdb+"/title/"+t.movieBase.imdbId}},[t._v("\n                            "+t._s("N/A"==t.imdbApi.imdbVotes?"暂时无":t.imdbApi.imdbVotes)+"人评价\n                          ")])])])])])])]):t._e(),t._v(" "),t.imdbApi.Ratings&&t.imdbApi.Ratings.length>1?s("div",[t._l(t.imdbApi.Ratings,function(e){return"Rotten Tomatoes"==e.Source?s("div",{staticClass:"rating_wrap clearbox"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"rating_logo ll"},[s("a",{attrs:{href:t.url_metacritic,target:"_blank"}},[t._v("\n                          MTC\n                        ")])]),t._v(" "),s("div",{staticClass:"output-btn-wrap rr"})]),t._v(" "),s("div",{staticClass:"rating_self clearfix"},["20%"!=e.Value?s("strong",{staticClass:"ll rating_num"},[t._v(t._s(t._f("fixSlish")(e.Value)))]):t._e(),t._v(" "),"20%"==e.Value?s("strong",{staticClass:"ll rating_num"},[t._v("囧")]):t._e(),t._v(" "),s("span",{attrs:{content:"10.0"}}),t._v(" "),s("div",{staticClass:"rating_right "},[s("div",{class:"ll bigstar "+t.getBigRateTypeForMetacritic(e.Value)}),t._v(" "),s("div",{staticClass:"rating_sum"},[t.movieApi.original_title?s("div",{staticClass:"rating_people"},[s("a",{attrs:{target:"_blank",href:t.url_metacritic+"/movie/"+t.getMetacriticName(t.movieApi.original_title)}},[t._v("\n                              Metacritic --\x3e\n                            ")])]):t._e()])])])]):t._e()}),t._v(" "),t._l(t.imdbApi.Ratings,function(e){return"Metacritic"==e.Source?s("div",{staticClass:"rating_wrap clearbox"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"rating_logo ll"},[s("a",{attrs:{href:t.url_tomato,target:"_blank"}},[t._v("\n                          烂番茄\n                        ")])]),t._v(" "),s("div",{staticClass:"output-btn-wrap rr"})]),t._v(" "),s("div",{staticClass:"rating_self clearfix"},[s("strong",{staticClass:"ll rating_num"},[t._v(t._s(t._f("fixPercent")(e.Value)))]),t._v(" "),s("span",{attrs:{content:"10.0"}}),t._v(" "),s("div",{staticClass:"rating_right "},[s("div",{class:"ll bigstar "+t.getBigRateTypeForTomatoes(e.Value)}),t._v(" "),t.movieApi.original_title?s("div",{staticClass:"rating_sum"},[s("a",{attrs:{target:"_blank",href:t.url_tomato+"/m/"+t.getTomatoName(t.movieApi.original_title)}},[t._v("\n                            RTomatoes --\x3e\n                          ")])]):t._e()])])]):t._e()})],2):t._e()])])]),t._v(" "),s("div",{staticClass:"related-info"},[s("a",{attrs:{name:"intro"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"indent",attrs:{id:"link-report"}},[t.movieApi.summary?s("span",{staticClass:"summary"},[t._v("\n                      "+t._s(t.movieApi.summary)+"\n                     ")]):t._e()])]),t._v(" "),s("div",{staticClass:"celebrities related-celebrities",attrs:{id:"celebrities"}},[s("h2",[s("i",{},[t._v("演职员列表......")]),t._v(" "),s("span",{staticClass:"pl"},[s("a",{attrs:{href:"/subject/"+t.movieBase.movieId+"/celebrities",target:"_blank"}},[t._v("\n                (共计"+t._s(t.movieBase.directors.length+t.movieBase.writers.length+t.movieBase.leadingactors.length)+"人)")])])]),t._v(" "),s("ul",{staticClass:"celebrities-list from-subject __oneline"},[t._l(t.movieApi.directors,function(e){return s("li",{staticClass:"celebrity"},[s("a",{attrs:{href:"/celebrity/"+e.id,target:"_blank"}},[s("div",{staticClass:"avatar"},[e.avatars?s("img",{attrs:{src:e.avatars.large,rel:"noreferrer"}}):t._e()])]),t._v(" "),s("a",{attrs:{href:"/celebrity/"+e.id,target:"_blank"}},[s("div",{staticClass:"info"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))])])])])}),t._v(" "),t._l(t.movieApi.writers,function(e){return s("li",{staticClass:"celebrity"},[s("a",{attrs:{href:"/celebrity/"+e.id,target:"_blank"}},[s("div",{staticClass:"avatar"},[e.avatars?s("img",{attrs:{src:e.avatars.large,rel:"noreferrer"}}):t._e()])]),t._v(" "),s("a",{attrs:{href:"/celebrity/"+e.id,target:"_blank"}},[s("div",{staticClass:"info"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))])])])])}),t._v(" "),t._l(t.movieApi.casts,function(e,a){return a<3?s("li",{staticClass:"celebrity"},[s("a",{attrs:{href:"/celebrity/"+e.id,target:"_blank"}},[s("div",{staticClass:"avatar"},[e.avatars?s("img",{attrs:{src:e.avatars.large,rel:"noreferrer"}}):t._e()])]),t._v(" "),s("a",{attrs:{href:"/celebrity/"+e.id,target:"_blank"}},[s("div",{staticClass:"info"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))])])])]):t._e()})],2)]),t._v(" "),s("div",{staticClass:"related-pic",attrs:{id:"related-pic"}},[s("h2",[s("i",{},[t._v("图片列表......")]),t._v(" "),s("span",{staticClass:"pl"},[s("a",{attrs:{href:"/subject/"+t.movieBase.movieId+"/all_photos",target:"_blank"}},[t._v("(共计"+t._s(t.movieApi.photos_count?t.movieApi.photos_count:"...")+"张)")])])]),t._v(" "),s("ul",{staticClass:"related-pic-bd wide_videos"},t._l(t.movieApi.photos,function(t,e){return s("li",[s("a",{attrs:{href:t.alt,target:"_blank"}},[s("img",{staticStyle:{padding:"8px","box-sizing":"border-box"},attrs:{src:t.image,alt:"图片",rel:"noreferrer"}})])])}),0)]),t._v(" "),s("div",{attrs:{id:"comments-section"}},[s("div",{staticClass:"mod-hd"},[s("h2",[s("i",{},[t._v("热门短评......")]),t._v(" "),s("span",{staticClass:"pl"},[s("a",{attrs:{href:t.url_douban+"/subject/"+t.movieBase.movieId+"/comments",target:"_blank"}},[t._v("(共计"+t._s(t.movieApi.comments_count?t.movieApi.comments_count:"...")+"条)")])])])]),t._v(" "),s("div",{staticClass:"mod-bd"},[s("div",{staticClass:"tab-bd"},[s("div",{staticClass:"tab",attrs:{id:"hot-comments"}},t._l(t.movieApi.popular_comments,function(e,a){return a<5?s("div",{staticClass:"comment-item"},[s("div",{staticClass:"comment"},[s("h3",[s("span",{staticClass:"comment-vote"},[s("span",{staticClass:"votes"},[t._v(t._s(e.useful_count)+" 有用")])]),t._v(" "),s("span",{staticClass:"comment-info"},[s("a",{attrs:{href:t.url_douban+"/people/"+e.author.id,target:"_blank"}},[t._v(t._s(e.author.name))]),t._v(" "),s("span",{class:t.getRateType(e.rating.value)+" rating"}),t._v(" "),s("span",{staticClass:"comment-time"},[t._v(t._s(e.created_at))])])]),t._v(" "),s("p",{},[s("span",{staticClass:"short"},[t._v(t._s(e.content))])])])]):t._e()}),0)])])]),t._v(" "),s("section",{staticClass:"reviews mod movie-content"},[s("header",[s("h2",[s("i",{},[t._v("热门影评......")]),t._v(" "),s("span",{staticClass:"pl"},[s("a",{attrs:{href:t.url_douban+"/subject/"+t.movieBase.movieId+"/reviews",target:"_blank"}},[t._v("\n                  (共计"+t._s(t.movieApi.reviews_count?t.movieApi.reviews_count:"...")+"条)\n                                  ")])])])]),t._v(" "),s("div",{staticClass:"review-list"},t._l(t.movieApi.popular_reviews,function(e,a){return a<5?s("div",{staticClass:"main review-item"},[s("header",{staticClass:"main-hd"},[s("a",{staticClass:"avator",attrs:{href:t.url_douban+"/people/"+e.author.id}},[s("img",{attrs:{width:"24",height:"24",src:e.author.avatar}})]),t._v(" "),s("a",{staticClass:"name",attrs:{href:t.url_douban+"/people/"+e.author.id,target:"_blank"}},[t._v(t._s(e.author.name))]),t._v(" "),s("span",{class:t.getRateType(e.rating.value)+" main-title-rating"}),t._v(" "),s("span",{staticClass:"main-meta"})]),t._v(" "),s("div",{staticClass:"main-bd"},[s("h2",[s("a",{attrs:{href:e.alt,target:"_blank"}},[t._v("       "+t._s(e.title)+"       ")])]),t._v(" "),s("div",{staticClass:"review-short"},[t._v("\n                    "+t._s(e.summary)+"\n                  ")])])]):t._e()}),0)]),t._v(" "),t._l(t.neteaseSongs,function(e){return 0!==e.data.hotComments.length?s("div",{attrs:{id:"all-songs"}},[s("div",{attrs:{id:"songs-section"}},[s("div",{staticClass:"mod-hd"},[s("h2",[s("i",{},[t._v("网易云音乐单曲 "),s("span",{staticStyle:{color:"#79078f"}},[t._v("< "+t._s(e.name)+" >")]),t._v(" 热门评论......"),s("a",{attrs:{href:t.url_netease+"/song?id="+e.id,target:"_blank"}},[s("i",{staticStyle:{"font-size":"13px"}},[t._v("查看更多")])])]),t._v(" "),s("span",{staticClass:"pl"})])]),t._v(" "),s("div",{staticClass:"mod-bd"},[s("div",{staticClass:"tab-bd"},[s("div",{staticClass:"tab",attrs:{id:"song-hot-comments"}},t._l(e.data.hotComments,function(e,a){return a<5?s("div",{staticClass:"comment-item"},[s("div",{staticClass:"comment"},[s("h3",[s("span",{staticClass:"comment-vote"},[s("span",{staticClass:"votes"},[t._v(t._s(e.likedCount)+" 喜欢")])]),t._v(" "),s("span",{staticClass:"comment-info"},[s("a",{attrs:{href:t.url_netease+"/user/home?id="+e.user.userId,target:"_blank"}},[t._v(" "+t._s(e.user.nickname)+" ")]),t._v(" "),s("span",{staticClass:"comment-time",staticStyle:{"font-size":"11px"}},[t._v("    创建于 "+t._s(t._f("formatDate")(e.time)))])])]),t._v(" "),s("p",{},[s("span",{staticClass:"short"},[t._v(t._s(e.content))])])])]):t._e()}),0)])])])]):t._e()}),t._v(" "),t._l(t.neteaseAlbums,function(e){return 0!==e.data.hotComments.length?s("div",{attrs:{id:"all-albums"}},[s("div",{attrs:{id:"albums-section"}},[s("div",{staticClass:"mod-hd"},[s("h2",[s("i",{},[t._v("网易云音乐专辑 "),s("span",{staticStyle:{color:"#79078f"}},[t._v("< "+t._s(e.name)+" >")]),t._v(" 热门评论......"),s("a",{attrs:{href:t.url_netease+"/album?id="+e.id,target:"_blank"}},[s("i",{staticStyle:{"font-size":"13px"}},[t._v("查看更多")])])]),t._v(" "),s("span",{staticClass:"pl"})])]),t._v(" "),s("div",{staticClass:"mod-bd"},[s("div",{staticClass:"tab-bd"},[s("div",{staticClass:"tab",attrs:{id:"album-hot-comments"}},t._l(e.data.hotComments,function(e,a){return a<5?s("div",{staticClass:"comment-item"},[s("div",{staticClass:"comment"},[s("h3",[s("span",{staticClass:"comment-vote"},[s("span",{staticClass:"votes"},[t._v(t._s(e.likedCount)+" 喜欢")])]),t._v(" "),s("span",{staticClass:"comment-info"},[s("a",{attrs:{href:t.url_netease+"/user/home?id="+e.user.userId,target:"_blank"}},[t._v(" "+t._s(e.user.nickname)+" ")]),t._v(" "),s("span",{staticClass:"comment-time",staticStyle:{"font-size":"11px"}},[t._v("    创建于 "+t._s(t._f("formatDate")(e.time)))])])]),t._v(" "),s("p",{},[s("span",{staticClass:"short"},[t._v(t._s(e.content))])])])]):t._e()}),0)])])])]):t._e()}),t._v(" "),t._l(t.neteasePlaylists,function(e){return 0!==e.data.hotComments.length?s("div",{attrs:{id:"all-playlists"}},[s("div",{attrs:{id:"playlists-section"}},[s("div",{staticClass:"mod-hd"},[s("h2",[s("i",{},[t._v("网易云音乐歌单 "),s("span",{staticStyle:{color:"#79078f"}},[t._v("< "+t._s(e.name)+" >")]),t._v(" 热门评论......"),s("a",{attrs:{href:t.url_netease+"/playlist?id="+e.id,target:"_blank"}},[s("i",{staticStyle:{"font-size":"13px"}},[t._v("查看更多")])])]),t._v(" "),s("span",{staticClass:"pl"})])]),t._v(" "),s("div",{staticClass:"mod-bd"},[s("div",{staticClass:"tab-bd"},[s("div",{staticClass:"tab",attrs:{id:"playlist-hot-comments"}},t._l(e.data.hotComments,function(e,a){return a<5?s("div",{staticClass:"comment-item"},[s("div",{staticClass:"comment"},[s("h3",[s("span",{staticClass:"comment-vote"},[s("span",{staticClass:"votes"},[t._v(t._s(e.likedCount)+" 喜欢")])]),t._v(" "),s("span",{staticClass:"comment-info"},[s("a",{attrs:{href:t.url_netease+"/user/home?id="+e.user.userId,target:"_blank"}},[t._v(" "+t._s(e.user.nickname)+" ")]),t._v(" "),s("span",{staticClass:"comment-time",staticStyle:{"font-size":"11px"}},[t._v("    创建于 "+t._s(t._f("formatDate")(e.time)))])])]),t._v(" "),s("p",{},[s("span",{staticClass:"short"},[t._v(t._s(e.content))])])])]):t._e()}),0)])])])]):t._e()}),t._v(" "),t.bookComments&&t.bookComments.comments&&0!=t.bookComments.comments.length?s("div",{attrs:{id:"book-comments-section"}},[s("div",{staticClass:"mod-hd"},[s("h2",[s("i",{},[t._v("原著相关 "),s("span",{staticStyle:{color:"#79078f"}},[s("a",{attrs:{href:t.url_douban_book+"/subject/"+t.bookComments.bookId,target:"_blank"}},[t._v("< "+t._s(t.bookComments.bookName)+" >")])]),t._v(" 热门短评......")]),t._v(" "),s("span",{staticClass:"pl"},[s("a",{attrs:{href:t.url_douban_book+"/subject/"+t.bookComments.bookId+"/comments",target:"_blank"}},[t._v("(共计"+t._s(t.bookComments.total?t.bookComments.total:"...")+"条)")])])])]),t._v(" "),s("div",{staticClass:"mod-bd"},[s("div",{staticClass:"tab-bd"},[s("div",{staticClass:"tab",attrs:{id:"book-hot-comments"}},t._l(t.bookComments.comments,function(e,a){return a<5?s("div",{staticClass:"comment-item"},[s("div",{staticClass:"comment"},[s("h3",[s("span",{staticClass:"comment-vote"},[s("span",{staticClass:"votes"},[t._v(t._s(e.votes)+" 有用")])]),t._v(" "),s("span",{staticClass:"comment-info"},[s("a",{attrs:{href:t.url_douban_book+"/people/"+e.author.id,target:"_blank"}},[t._v(t._s(e.author.name))]),t._v(" "),e.rating&&e.rating.value?s("span",{class:t.getRateType(e.rating.value)+" rating"}):t._e(),t._v(" "),s("span",{staticClass:"comment-time"},[t._v(t._s(e.published))])])]),t._v(" "),s("p",{},[s("span",{staticClass:"short"},[t._v(t._s(e.summary))])])])]):t._e()}),0)])])]):t._e(),t._v(" "),t.bookReviews&&t.bookReviews.reviews&&0!=t.bookReviews.reviews.length?s("div",{attrs:{id:"book-reviews-section"}},[s("section",{staticClass:"reviews mod movie-content"},[s("header",[s("h2",[s("i",{},[t._v("原著相关 "),s("span",{staticStyle:{color:"#79078f"}},[s("a",{attrs:{href:t.url_douban_book+"/subject/"+t.bookReviews.bookId,target:"_blank"}},[t._v("< "+t._s(t.bookReviews.bookName)+" >")])]),t._v(" 热门书评......")]),t._v(" "),s("span",{staticClass:"pl"},[s("a",{attrs:{href:t.url_douban+"/subject/"+t.movieBase.movieId+"/reviews",target:"_blank"}},[t._v("\n                  (共计"+t._s(t.bookReviews.total?t.bookReviews.total:"...")+"条)\n                                  ")])])])]),t._v(" "),s("div",{staticClass:"review-list"},t._l(t.bookReviews.reviews,function(e,a){return a<5&&e.summary&&"{"!=e.summary.toString().charAt(0)?s("div",{staticClass:"main review-item"},[s("header",{staticClass:"main-hd"},[s("a",{staticClass:"avator",attrs:{href:t.url_douban_book+"/people/"+e.author.id}},[s("img",{attrs:{width:"24",height:"24",src:e.author.avatar}})]),t._v(" "),s("a",{staticClass:"name",attrs:{href:t.url_douban_book+"/people/"+e.author.id,target:"_blank"}},[t._v(t._s(e.author.name))]),t._v(" "),e.rating&&e.rating.value?s("span",{class:t.getRateType(e.rating.value)+" main-title-rating"}):t._e(),t._v(" "),s("span",{staticClass:"main-meta"},[s("span",{staticClass:"comment-time"},[t._v(t._s(e.updated))])])]),t._v(" "),s("div",{staticClass:"main-bd"},[s("h2",[s("a",{attrs:{href:e.alt,target:"_blank"}},[t._v("       "+t._s(e.title)+"       ")])]),t._v(" "),s("div",{staticClass:"review-short"},[t._v("\n                      "+t._s(e.summary)+"\n                    ")])])]):t._e()}),0)])]):t._e(),t._v(" "),s("br")],2),t._v(" "),s("div",{staticClass:"aside",staticStyle:{position:"static",left:"712px",right:"auto",bottom:"300px",top:"auto"}},[t.isMusicAllOk&&t.neteaseMusic&&0!=t.neteaseMusic.length?s("div",{staticStyle:{"margin-bottom":"20px"},attrs:{id:"musicAbout"}},[s("h2",[s("i",[t._v("配乐 / 相关 "),s("a",{staticStyle:{color:"#79078f"},attrs:{href:t.url_netease+"/#/search/m/?s="+t.neteaseSearchKeyword,target:"_blank"}},[t._v("< "+t._s(t.neteaseSearchKeyword)+" > ")])])]),t._v(" "),s("aplayer",{attrs:{autoplay:"",music:t.neteaseMusic[0],list:t.neteaseMusic,showLrc:t.showLrc,repeat:"repeat-all"}})],1):t._e(),t._v(" "),t.isMusicAllOk&&t.neteasePlaylistSongs&&0!=t.neteasePlaylistSongs.length?s("div",{staticStyle:{"margin-bottom":"20px"},attrs:{id:"musicPlaylist"}},[s("h2",[s("i",[t._v("歌单 / 相关 "),s("a",{staticStyle:{color:"#79078f"},attrs:{href:t.url_netease+"/#/playlist?id="+t.neteasePlaylistSongsId,target:"_blank"}},[t._v("< "+t._s(t.neteasePlaylistSongsName)+" > ")])])]),t._v(" "),s("aplayer",{attrs:{music:t.neteasePlaylistSongs[0],list:t.neteasePlaylistSongs,showLrc:t.showLrc,repeat:"repeat-all"}})],1):t._e(),t._v(" "),t.isMusicAllOk&&t.neteaseAlbumSongs&&0!=t.neteaseAlbumSongs.length?s("div",{staticStyle:{"margin-bottom":"20px"},attrs:{id:"musicAlbum"}},[s("h2",[s("i",[t._v("专辑 / 相关 "),s("a",{staticStyle:{color:"#79078f"},attrs:{href:t.url_netease+"/#/album?id="+t.neteaseAlbumSongsId,target:"_blank"}},[t._v("< "+t._s(t.neteaseAlbumSongsName)+" > ")])])]),t._v(" "),s("aplayer",{attrs:{music:t.neteaseAlbumSongs[0],list:t.neteaseAlbumSongs,showLrc:t.showLrc,repeat:"repeat-all"}})],1):t._e(),t._v(" "),t._l(t.bookSearch.books,function(e,a){return t.bookSearch.books&&0!=t.bookSearch.count?s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{id:"book_"+a}},[s("h2",[s("i",{},[t._v("原著 / 相关 "),s("a",{staticStyle:{color:"#79078f"},attrs:{href:e.alt,target:"_blank"}},[t._v("< "+t._s(e.title)+"\n                > ")]),e.rating&&e.rating.average&&"0.0"!=e.rating.average?s("span",{staticStyle:{color:"#f7097a"}},[t._v(t._s(e.rating.average))]):t._e()])]),t._v(" "),s("div",{staticStyle:{"box-shadow":"2px 3px 6px 0 rgba(0,0,0,0.2)",transition:"0.3s",width:"100%","border-radius":"3px","min-height":"120px","margin-left":"5px"}},[s("div",{staticClass:"mainpicforbook"},[s("a",{staticClass:"nbgnbg",attrs:{href:e.alt}},[s("img",{staticStyle:{"max-height":"95px"},attrs:{src:e.images.large,rel:"noreferrer"}})]),t._v(" "),s("p",{staticClass:"gact"})]),t._v(" "),s("div",{staticStyle:{"line-height":"16px"}},[e.origin_title?s("span",[s("span",{staticClass:"pl"},[t._v("原名: ")]),t._v(" "),s("span",{staticClass:"attrs"},[t._v(t._s(e.origin_title))]),s("br")]):t._e(),t._v(" "),e.author&&0!=e.author.length?s("span",[s("span",{staticClass:"pl"},[t._v("作者: ")]),t._v(" "),t._l(e.author,function(a,i){return s("span",{staticClass:"attrs"},[t._v(t._s(a)+t._s(i===e.author.length-1?"":" / "))])}),s("br")],2):t._e(),t._v(" "),e.translator&&0!=e.translator.length?s("span",[s("span",{staticClass:"pl"},[t._v("译者: ")]),t._v(" "),t._l(e.translator,function(a,i){return s("span",{staticClass:"attrs"},[t._v(t._s(a)+t._s(i===e.translator.length-1?"":" / "))])}),s("br")],2):t._e(),t._v(" "),e.publisher?s("span",[s("span",{staticClass:"pl"},[t._v("出版社: ")]),t._v(" "),s("span",{staticClass:"attrs"},[t._v(t._s(e.publisher))]),s("br")]):t._e(),t._v(" "),e.pages?s("span",[s("span",{staticClass:"pl"},[t._v("页数: ")]),t._v(" "),s("span",{staticClass:"attrs"},[t._v(t._s(e.pages))]),s("br")]):t._e(),t._v(" "),e.isbn13?s("span",[s("span",{staticClass:"pl"},[t._v("ISBN: ")]),t._v(" "),s("span",{staticClass:"attrs"},[t._v(t._s(e.isbn13))]),s("br")]):t._e()])])]):t._e()}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.btbtdyResource&&0!=t.btbtdyResource.length||t.loldyttResource&&0!=t.loldyttResource.length,expression:"(btbtdyResource && btbtdyResource.length!=0) || (loldyttResource && loldyttResource.length!=0)"}],staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{id:"mit"}},[t._m(1),t._v(" "),s("div",{staticStyle:{"box-shadow":"2px 3px 6px 0 rgba(0,0,0,0.2)",transition:"0.3s",width:"100%","border-radius":"3px","min-height":"120px","margin-left":"5px"}},[s("span",{staticStyle:{"font-size":"13px"}},[t._v("\n              本站为开源项目,遵守"),s("b",{staticStyle:{color:"red"}},[t._v("MIT")]),t._v("开源协议!"),s("br"),t._v("\n              本站以下内容均为"),s("b",{staticStyle:{color:"red"}},[t._v("友情链接")]),t._v(",非本站所有!"),s("br"),t._v("\n\n              友情链接原则:"),s("br"),t._v("\n                1. 仅供影视相关从业人员学习交流,不做任何商业用途."),s("br"),t._v("\n                2. 只收录稀缺的经典冷门影视作品."),s("br"),t._v("\n                2. 拒绝收录近期正在上映的电影!"),s("br"),t._v("\n\n              若发现任何上述违规现象,请"),s("a",{attrs:{href:"mailto:"+t.url_email+"?subject="+t.movieBase.name+"("+t.movieBase.movieId+")侵犯版权"}},[t._v("联系本人")]),t._v(".将立即删除!"),s("br")])])]),t._v(" "),t._l(t.btbtdyResource,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.btbtdyResource&&0!=t.btbtdyResource.length,expression:"btbtdyResource && btbtdyResource.length!=0"}],staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{id:"btbtby_"+a}},[s("h2",[s("i",{},[t._v("友情链接 "),s("span",{staticStyle:{color:"#79078f"}},[s("a",{attrs:{target:"_blank",href:t.url_btbtdy+"/btdy/dy"+e.movieId+".html"}},[t._v("< "+t._s(e.movieName)+" >")])])])]),t._v(" "),s("div",{staticStyle:{"box-shadow":"3px 5px 10px 0 rgba(192,192,192,0.2)",transition:"0.3s",width:"100%","border-radius":"3px","margin-left":"5px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.p720&&0!=e.p720.length,expression:"res.p720 && res.p720.length!=0"}]},[t._m(2,!0),t._v(" "),t._l(e.p720,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.p1080&&0!=e.p1080.length,expression:"res.p1080 && res.p1080.length!=0"}]},[t._m(3,!0),t._v(" "),t._l(e.p1080,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.k4&&0!=e.k4.length,expression:"res.k4 && res.k4.length!=0"}]},[t._m(4,!0),t._v(" "),t._l(e.k4,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.ed2k&&0!=e.ed2k.length,expression:"res.ed2k && res.ed2k.length!=0"}]},[t._m(5,!0),t._v(" "),t._l(e.ed2k,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.blue&&0!=e.blue.length,expression:"res.blue && res.blue.length!=0"}]},[t._m(6,!0),t._v(" "),t._l(e.blue,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2)])])}),t._v(" "),t._l(t.loldyttResource,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.loldyttResource&&0!=t.loldyttResource.length,expression:"loldyttResource && loldyttResource.length!=0"}],staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{id:"loldytt_"+a}},[s("h2",[s("i",{},[t._v("友情链接"),s("span",{staticStyle:{color:"#79078f"}},[s("a",{attrs:{target:"_blank",href:e.movieUrl}},[t._v("< "+t._s(e.movieName)+" >")])])])]),t._v(" "),s("div",{staticStyle:{"box-shadow":"3px 5px 10px 0 rgba(192,192,192,0.2)",transition:"0.3s",width:"100%","border-radius":"3px","margin-left":"5px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.thunder&&0!=e.thunder.length,expression:"res.thunder && res.thunder.length!=0"}]},[t._m(7,!0),t._v(" "),t._l(e.thunder,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px","max-width":"350px","word-wrap":"break-word"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.magnet&&0!=e.magnet.length,expression:"res.magnet && res.magnet.length!=0"}]},[t._m(8,!0),t._v(" "),t._l(e.magnet,function(e,a){return s("div",{staticClass:"resourceNext"},[s("span",[s("a",{staticStyle:{"font-size":"13px","max-width":"350px","word-wrap":"break-word"},attrs:{href:e.resourceUrl}},[t._v(t._s(e.resourceName))]),s("br")])])})],2)])])})],2)])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("i",{},[this._v("剧情简介......")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("i",{staticStyle:{color:"#f7097a"}},[this._v("严正声明 ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("720P")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("1080P")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("4K")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("ED2K")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("BluRay")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("迅雷链接")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"resourceTitle"},[e("i",[this._v("磁力链接")])])}]};var x=s("VU/8")(k,w,!1,function(t){s("CK/A")},null,null).exports,S={name:"search",data:function(){return{url_douban:r,url_vue_base:"https://movie.doubans.com",busy:!0,subTitle:" + 1s + 搜索",apiResult:{},sResult:[],start:0,count:10,isOver:!1,noMovie:"",noMovieTime:2e3,isBaseOrApi:!0}},created:function(){document.title=this.$route.query.search_text+this.subTitle,this.isMovieSearched(this.$route.query.search_text),this.getApiSearch(this.$route.query.search_text,this.start,this.count)},methods:{getSearchResult:function(t,e,s){var a=this;o.a.get(n+"/subject_search",{params:{search_text:t,start:e,count:s}}).then(function(t){t.data&&t.data.code&&t.data.message?200==t.data.code&&"success"==t.data.message&&t.data.data?(a.sResult.push({start:a.start,data:t.data.data}),a.start=a.start+a.count,0!=e&&t.data.data.length<a.count?(a.busy=!0,a.isOver=!0):a.busy=!1):console.log("get search result fail...(server error)"):console.log("get search result fail...(connect error)")}).catch(function(t){console.log("get search result fail..."),console.log(t)})},getApiSearch:function(t,e,s){var a=this;this.isBaseOrApi=!1,this.$jsonp(c+"/v2/movie/search?q="+t+"&start="+e+"&count="+s+"&apikey="+d).then(function(t){if(t.subjects&&0!=t.subjects.length){var s=t.subjects;a.apiResult=t;for(var i=[],o=0;o<s.length;o++){var n=s[o],r=[],l=[],c=[];if(n.directors&&0!=n.directors.length)for(var d=0;d<n.directors.length;d++)r.push({name:n.directors[d].name});if(n.casts&&0!=n.casts.length)for(var u=0;u<n.casts.length;u++)l.push({name:n.casts[u].name});if(n.genres&&0!=n.genres.length)for(var v=0;v<n.genres.length;v++)c.push({typeName:n.genres[v]});i.push({movieId:n.id,name:n.title,rate:n.rating?n.rating.average:"",year:n.year?n.year:"",alias:n.original_title?n.original_title:"",image:n.images?n.images.large:"",directors:r,leadingactors:l,types:c})}a.sResult.push({start:a.start,data:i}),a.start=a.start+a.count,0!=e&&t.subjects&&t.subjects.length<a.count?(a.busy=!0,a.isOver=!0):a.busy=!1}else console.log("get douban movie search fail...(server error)")}).catch(function(t){console.log("get douban movie search fail..."),console.log(t)})},loadMore:function(){var t=this;this.isOver||(this.busy=!0,setTimeout(function(e){t.isBaseOrApi?t.getSearchResult:t.getApiSearch(t.$route.query.search_text,t.start,t.count),t.busy=!1},500))},isMovieSearched:function(t){var e=this;setTimeout(function(s){0==e.sResult.length&&(e.noMovie='搜索不到你想找的电影<br>\n                         请尝试其他关键字<br>\n                       或\n                       <a href="'+r+"/subject_search?search_text="+t+'">\n                       点击此处\n                       </a>\n                       跳转到豆瓣电影搜索...')},this.noMovieTime)},getRateType:function(t){return t<=10&&t>8?"allstar40":t<=8&&t>6?"allstar30":t<=6&&t>4?"allstar20":t<=4&&t>2?"allstar10":void 0}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("div",{staticClass:"root",attrs:{id:"root"}},[s("div",{staticClass:"sc-gqjmRU hbWVez"},[s("div",{staticClass:"_m86ylb9ba"},[s("h1",{staticClass:"_wqlzpvxb7"},[t._v("\n          搜索 "+t._s(t.$route.query.search_text)+"\n        ")]),t._v(" "),s("h1",{domProps:{innerHTML:t._s(t.noMovie)}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.sResult&&0!=t.sResult.length,expression:"sResult && sResult.length!=0"}],staticClass:"_b6i42sib8",staticStyle:{font:"12px Helvetica,Arial,sans-serif","line-height":"1.62"}},[s("div",{staticClass:"_rvqzudtbb"},[t._l(t.sResult,function(e){return s("div",t._l(e.data,function(a,i){return e.data&&0!=e.data.length?s("div",{staticClass:"sc-bZQynM jWOXeW sc-bxivhb hRIaFd"},[s("div",{staticClass:"item-root"},[s("a",{staticClass:"cover-link",attrs:{href:t.url_vue_base+"/subject/"+a.movieId,target:"_blank"}},[a.image?s("img",{staticClass:"cover",attrs:{src:a.image,alt:a.name,rel:"noreferrer"}}):t._e()]),t._v(" "),s("div",{staticClass:"detail"},[s("div",{staticClass:"title"},[s("a",{staticClass:"title-text",attrs:{href:t.url_vue_base+"/subject/"+a.movieId,target:"_blank"}},[t._v("\n                      "+t._s(a.name)),a.year?s("span",{staticStyle:{color:"#9b9b9b"}},[t._v("("+t._s(a.year)+")")]):t._e()])]),t._v(" "),s("div",{staticClass:"rating sc-bwzfXH hxNRHc"},[s("span",{staticClass:"rating-stars",class:t.getRateType(a.rate)}),t._v(" "),s("span",{staticClass:"rating_nums",staticStyle:{color:"#e018a4"}},[t._v(t._s(a.rate))])]),t._v(" "),s("div",{staticClass:"meta abstract"},[t._l(a.types,function(e){return a.types?s("span",[t._v("\n                       "+t._s(e.typeName+" / ")+"\n                     ")]):t._e()}),t._v(" "),a.alias?s("span",[t._v("\n                      "+t._s(a.alias)+"\n                    ")]):t._e()],2),t._v(" "),s("div",{staticClass:"meta abstract_2"},[t._l(a.directors,function(e,i){return a.directors&&0!=a.directors.length?s("span",[t._v("\n                       "+t._s(e.name)+t._s(i===e.length-1?"":" / ")+"\n                     ")]):t._e()}),t._v(" "),t._l(a.writers,function(e,i){return a.writers?s("span",[t._v("\n                       "+t._s(e.name)+t._s(i===e.length-1?"":" / ")+"\n                     ")]):t._e()}),t._v(" "),t._l(a.leadingactors,function(e,i){return a.leadingactors&&0!=a.leadingactors.length?s("span",[t._v("\n                      "+t._s(e.name)+t._s(i===a.leadingactors.length-1?"":" / ")+"\n                    ")]):t._e()})],2)])])]):t._e()}),0)}),t._v(" "),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"100","infinite-scroll-throttle-delay":"200"}},[s("div",[t._v("\n              "+t._s(0==t.isOver?"下拉加载更多 ~ ":"已经到底啦 ~ ")+"\n            ")])])],2)])])])])},staticRenderFns:[]};var I=s("VU/8")(S,R,!1,function(t){s("RBGi")},null,null).exports,A={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"celebrityCom"}},[this._v("\n  正在开发中...敬请期待...\n")])},staticRenderFns:[]};var B=s("VU/8")({name:"celebrity",data:function(){return{}},created:function(){},methods:{},filters:{}},A,!1,function(t){s("YBli")},null,null).exports,N={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"tagCom"}},[this._v("\n  正在开发中...敬请期待...\n")])},staticRenderFns:[]};var j=s("VU/8")({name:"tag",data:function(){return{}},created:function(){},methods:{},filters:{}},N,!1,function(t){s("FG/F")},null,null).exports,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"chartCom"}},[this._v("\n  正在开发中...敬请期待...\n")])},staticRenderFns:[]};var T=s("VU/8")({name:"chart",data:function(){return{}},created:function(){},methods:{},filters:{}},M,!1,function(t){s("Wq93")},null,null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"peopleCom"}},[this._v("\n  正在开发中...敬请期待...\n")])},staticRenderFns:[]};var $=s("VU/8")({name:"people",data:function(){return{}},created:function(){},methods:{},filters:{}},O,!1,function(t){s("qRrL")},null,null).exports;a.default.use(h.a);var F=new h.a({mode:"history",routes:[{path:"/",name:"home",component:f},{path:"/subject/:movieId",name:"subject",component:x},{path:"/subject_search",name:"search",component:I},{path:"/celebrity/:actorId",name:"celebrity",component:B},{path:"/tag/:tagName",name:"tag",component:j},{path:"/chart",name:"chart",component:T},{path:"/people/:userId",name:"people",component:$}]}),P=s("qJdI"),U=s.n(P),E=s("zL8q"),z=s.n(E),D=(s("tvR6"),s("bqTm")),L=s.n(D);a.default.use(U.a),a.default.use(z.a),a.default.use(L.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:F,components:{App:g},template:"<App/>"})},RBGi:function(t,e){},Wq93:function(t,e){},XxT3:function(t,e){},YBli:function(t,e){},ZbD6:function(t,e){},qRrL:function(t,e){},tvR6:function(t,e){},xHOd:function(t,e){if(void 0===hls.js){var s=new Error('Cannot find module "hls.js"');throw s.code="MODULE_NOT_FOUND",s}t.exports=hls.js}},["NHnr"]);
//# sourceMappingURL=app.28d9dd27f3c5b78621d2.js.map